<ng-container *ngIf="control && field.visible !== false" [ngSwitch]="field.type">
     <!--TEXT INPUT-->
     {{control.errors | json}}
     <p *ngIf="control.hasError('usernameAlreadyExists')">feil</p>
     <div class="row mb-3" *ngSwitchCase="7">
          <div class="col-8 d-flex flex-column">
               <label class="small fw-bold mb-2">{{field.name}}</label>
               <input type="text" [formControl]="control" value="Batman"
                    [ngClass]="{'is-invalid': control.errors?.['required'], 'is-valid': control.errors?.length === 0}">
          </div>
          <div class="col-4"></div>
     </div>

     <!-- DATEPICKER -->
     <div class="row mb-3" *ngSwitchCase="1">
          <div class="col d-flex d-flex flex-column">
               <label class="small fw-bold">{{field.name}}</label>
               <div class="d-flex justify-content-center align-items-center ">
                    <input type="form-control" ngbDatepicker #d="ngbDatepicker" name="dp" placeholder="yyyy-mm-dd"
                         [formControl]="control">
                    <button class="btn btn-sm btn-outline-secondary calendar" (click)="d.toggle()">Velg dato</button>
               </div>

          </div>
     </div>
     <!--SELECT DROPDOWN-->
     <div class="row mb-3" *ngSwitchCase="3">
          <div class="col" *ngIf="field.options">
               <ng-select [items]="field.options" [closeOnSelect]="false" [searchable]="false" bindLabel="name"
                    [placeholder]="field.name" [(ngModel)]="fieldModels" (change)="displayChildren()"
                    type="form-control" [formControl]="control">
               </ng-select>
               <div style="padding-top: 7px;" *ngIf="field.children">
                    <ng-container *ngFor="let child of field.children">
                         <lib-dynamic-field *ngIf="child.visible" [field]="child"></lib-dynamic-field>
                    </ng-container>
               </div>
          </div>
     </div>
</ng-container>